<!DOCTYPE html>
<html lang="en-gb">
<head>
<meta charset="utf-8">
<title>RLO Title</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#173597">
<link rel="stylesheet" href="css/bootstrap.css">
<link rel="stylesheet" href="css/rlo-master.css">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<script src="scripts/jquery.js"></script>
<script src="scripts/bootstrap.js"></script>
<script src="scripts/rlo-master.js"></script>
<script>
var previous_answers = '';
var temp;
$().ready(function(){


$('#activity_function-buttons').hide();
if(privacy_cookies == 1 && privacy_storage == 1){
// START STORAGE is available
$('#no_storage_warning').hide();
$('#activity_function-buttons').show();
// END STORAGE is available
}else{
//console.log('no storage enabled');
}


// START responding to the change in privacy controls
//////////////////////////////////////////////////////
$('#privacy_options_modal').on('hidden.bs.modal', function () {
if(privacy_save == true){
// Privacy has been closed (potentially saved) check for implications
if(privacy_cookies == 1 && privacy_storage == 1){
//console.log('privacy updated: storage enabled');
$('#activity_function-buttons').show();
$('#no_storage_warning').hide();
}else{
//console.log('privacy updated: no storage enabled');
$('#activity_function-buttons').hide();
$('#no_storage_warning').show();
}
}
privacy_save = false;
});
//////////////////////////////////////////////////////
// END responding to the change in privacy controls

if(privacy_cookies == 1 && privacy_storage == 1){
//console.log('Privacy Cookies and Storage are available!');
if(storageAvailable('localStorage')){


if(previous_answers != ''){
$('#task').after('<div class="alert alert-info vspace-top"><h4>Your Previous Thoughts</h4>'+previous_answers+'</div>');
//console.log(previous_answers);
}

if(localStorage.HELMOpen_RLO_template_activity != null){
$('#task').val(localStorage.HELMOpen_RLO_template_activity);
//console.log('previous_answer available');
}
}
}

$('#save_data').click(function(event){
event.preventDefault();
//alert('Save Clicked!');
$('#task_warning').remove();
$('#task_success').remove();
//console.log($('#task').val());
if($('#task').val() == ''){
//alert('Nothing inputted for input 1');
$( '<div id="task_warning" class="alert alert-danger"><p>Please provide your response</p></div>' ).insertBefore( "#task" );
}else{
if(privacy_cookies == 1 && privacy_storage == 1){
var temp_val = $('#task').val();
if(temp_val.length >10){
if(storageAvailable('localStorage')){
localStorage.HELMOpen_RLO_template_activity = $('#task').val();
$('<div id="task_success" class="alert alert-success"><p>Your response has been successfully stored</p></div>').insertBefore('#task');
}
}else{
$( '<div id="task_warning" class="alert alert-danger"><p>Your response needs to be a minimum of at least 10 characters.</p></div>' ).insertBefore( "#task" );
}


}
}

});


$('#reset_data').click(function(event){
event.preventDefault();
localStorage.removeItem('HELMOpen_RLO_template_activity');
$('#task_success').remove();
$('#task_warning').remove();
$('#task').val('');
$('#delete_info').collapse('hide');
$('#reset_info').collapse('hide');
});



});
</script>
<noscript>
<link rel="stylesheet" href="css/rlo-master-no-js.css">
</noscript>
<link rel="shortcut icon" href="images/favicon.ico">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/apple-touch-icon-144x144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/apple-touch-icon-114x114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/apple-touch-icon-72x72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="images/apple-touch-icon-57x57-precomposed.png">
<link rel="icon" sizes="192x192" href="images/icon-192x192.png">

</head>
<body>
<div id="rlo_container">
<span id="doc_top"></span> <a class="sr-only sr-only-focusable" href="#content_start">Skip to main content</a>
<header id="rlo_header">
<!-- Use any element to open/show the overlay navigation menu -->
<div id="main_menu_trigger"> <a href="#"><span class="">menu</span> <span class="glyphicon glyphicon-menu-hamburger"></span></a> </div>
<a href="https://www.nottingham.ac.uk/helmopen" title="Health E-Learning and Media Team's website"><img src="images/helm-logo-no-strap-header-white.svg" alt="Health E-Learning and Media Team" id="helm_header_logo" width="52" height="44"></a>
</header>
<!-- The overlay -->
<nav id="myNav" class="overlay" aria-labelledby="main-menu-label">
<!-- Overlay content -->
<div class="overlay-content container-fluid">
<div class="row">
<div class="col-md-offset-2 col-md-4" role="navigation">
<h2 id="main-menu-label">Main Menu</h2>
<ul aria-label="Main resource navigation" id="main_menu">
<li><a href="index.html">Home</a></li>
<li><a href="section01.html">Section one</a></li>
<li class="active"><a href="section02.html" aria-current="page">Section two</a></li>
<li><a href="section03.html">Section three</a></li>
<li><a href="feedback.html">Feedback</a></li>
<li><a href="resources.html">Resources</a></li>
</ul>
</div>
<div class="col-md-offset-1 col-md-3" id="feature_controls"></div>
</div>
</div>
<!-- Button to close the overlay navigation -->
<a href="#" class="closebtn" id="menu_close">Close <span class="glyphicon glyphicon-remove"></span><span class="sr-only"> Close menu</span></a>
</nav>

<div class="container">
<main>
<article> <a id="content_start"></a>
<p class="rlo_title"><a href="index.html">RLO Title</a></p>
<div id="ss_readaloud_container"></div>
<h1 id="page_title"><span>2. </span>Section two</h1>
<div class="row">
<div class="col-md-6" id="text-component">
<!-- START text column -->
<p>Example of inclusion of a basic activity which makes use of local storage to store any input the user provides.</p>
<p>There's a small amount of code which interacts with the main RLO JavaScript file to respond to the user's decision to allow or prevent the use of cookies and local storage.</p>
<p>A message is displayed if permission hasn't been given additionally the save response controls are hidden.</p>
<!-- END text column -->
</div>

<div class="col-md-6" id="av-component">
<!-- START media column -->
<!-- START Activity example -->
<div id="no_storage_warning" class="alert alert-warning"><p>You have not given permission for the use of Cookies and Local Storage which would allow you to store your response to this activity. To grant permission for the use of Cookies and Local Storage within the &quot;<a href="#"  data-toggle="modal" data-target="#privacy_options_modal">User Privacy Settings</a>&quot; (also available within the resource &quot;menu&quot; panel).</p></div>

<div class="text_container" id="act8">
<label for="task"><strong>How is your day going so far?</strong></label>
<textarea id="task" class="form-control" rows="10" placeholder="Write your response here"></textarea>


<div  id="activity_function-buttons">
<div class="function_buttons text-center"><br /><a href="#" class="btn btn-success" id="save_data">Save</a> <button data-toggle="collapse" data-target="#reset_info" class="btn btn-danger "><span class="glyphicon glyphicon-remove"></span> Reset</button></div>

<div id="delete_info" class="collapse alert alert-info">
<p>By pressing the Delete button below you can remove your stored response.</p>
<p><a href="#" class="btn btn-danger" id="delete_data" data-scenario-id="mova1_isaac">Delete</a></p>
</div>
</div>
<br><br>
<div id="reset_info" class="collapse alert alert-info">
<p>By pressing the <strong>Reset Data</strong> button below you can restart this activity. Importantly all stored responses will be deleted.</p>
<p><a href="#" class="btn btn-danger" id="reset_data"><span class="glyphicon glyphicon-refresh"></span> Reset Data</a></p>
</div>

</div>
<!-- END Activity example -->
<!-- END media column -->
</div>
</div>


</article>
</main>
</div>

<!-- START doc top navigation -->
<div class="visible-xs-block" id="doc_top_btn"> <a href="#doc_top" class="btn btn-primary btn-block">Document Top <span class="glyphicon glyphicon-chevron-up"></span></a> </div>
<!-- END doc top navigation -->

<!-- START Fixed base navigation bar -->
<nav id="mobile_base_nav">
<div id="nav_container">
<div class="progress_container">
<div class="progressbar green" aria-label="resource progress bar" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%"> <span class="sr-only">40% Complete</span> </div>
</div>
<div class="container-fluid">
<div class="row">
<div class="hidden-xs text-center col-sm-8 col-sm-push-2 col-md-push-2 col-lg-push-0" id="uon_base_logo">
<!--<img src="images/uon-logo-blue-rev-base-2017.svg" alt="University of Nottingham United Kingdom, China, Malaysia" id="university_logo_white" width="95" height="35">-->
<div class="narration_audio">
<audio id="read_aloud_player" class="audio_player" controls>
<source src="audio/rlo-master-template-sample-narration.mp3" type="audio/mp3" />
<a href="audio/rlo-master-template-sample-narration.mp3">Narration audio (MP3)</a>
</audio>
</div>
</div>
<div  class="col-xs-6 col-sm-2 text-left col-lg-2 col-sm-pull-8 col-lg-pull-0"> <a href="section01.html" class="btn btn-mobile-base btn-block" id="previous_button"><span class="glyphicon glyphicon-chevron-left"></span> Previous </a> </div>
<div class="col-xs-6 col-sm-2"> <a href="section03.html" class="btn btn-mobile-base btn-block" id="next_button">Next <span class="glyphicon glyphicon-chevron-right"></span></a> </div>
</div>
</div>
</div><!-- Close nav contianer -->
</nav>

<!-- END Fixed base navigation bar -->
</div> <!-- Close RLO contianer -->

</body>
</html>
